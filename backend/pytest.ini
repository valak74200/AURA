[tool:pytest]
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function
addopts = 
    -v 
    --tb=short
    --cov=app
    --cov=services
    --cov=processors
    --cov=utils
    --cov=models
    --cov-report=html:htmlcov
    --cov-report=term-missing
    --cov-report=xml:coverage.xml
    --cov-fail-under=70
    --durations=10
    --strict-markers
testpaths = tests
markers =
    unit: unit tests (fast, isolated)
    integration: integration tests (slower, with real services)
    e2e: end-to-end tests (slowest, full system)
    slow: slow running tests
    auth: authentication tests
    audio: audio processing tests
    websocket: websocket tests
    api: API endpoint tests
    database: database tests
    services: service layer tests
    real_services: tests using real external services (require API keys)
    skip_ci: skip in CI environment
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::pydantic.warnings.PydanticDeprecatedSince20
    ignore::pytest.PytestUnraisableExceptionWarning
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*
minversion = 7.0
